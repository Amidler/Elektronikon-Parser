# ğŸ§° AtlasCopco Elektronikon MkV Data Monitor

> Python tool for reading, decoding, and logging compressor data from **Atlas Copco Elektronikon MkV** controllers via their embedded web interface (`mkv.cgi`).

---

## ğŸ“¦ Overview

This repository contains two generations of the Elektronikon monitoring script:

| Version | Web Interface | Description |
|----------|----------------|--------------|
| **v1.0.2.2** | Old MkV web (legacy firmware) | Basic implementation for early controllers using the classic CGI data model. |
| **v4.4.0.0** | New MkV web (modern firmware) | Complete re-implementation with extended register support, InfluxDB integration, and improved decoding. |

---

## ğŸ§  Functional Comparison

### âš™ï¸ Legacy Script â€” `v1.0.2.2`

**Features:**
- Simple communication with `mkv.cgi`
- Partial decoding of `Analog Inputs` and `Counters`
- Fixed register addresses (no dynamic discovery)
- Console output and influxDB logging

**Limitations:**
- Incorrect scaling for some parameters (temperature, pressure)

---

### ğŸš€ Modern Script â€” `v4.4.0.0`

**New Capabilities:**
- Full decoding of the **new MkV protocol structure**:
  - ğŸ§® **Analog Inputs** â€” all temperature, pressure, and humidity sensors  
  - â± **Counters** â€” runtime, load hours, VSD histogram, fan starts, etc.  
  - âš¡ **Converters (NEOS)** â€” RPM, current, flow  
  - ğŸ§© **Machine State** â€” mapped numeric codes to readable text  
  - ğŸ›¡ **Special Protections** â€” detection of active safety conditions
- ğŸ—„ **InfluxDB Integration**  
  - Periodic write (every 5 seconds)  
  - Logs *Analog Inputs*, *Converters*, and *Machine State*
- âœ… Improved register parsing (signed/unsigned 16-bit & 32-bit)
- ğŸ“ˆ Auto-scaling for physical units (Â°C, Bar, %, mÂ³)
- ğŸ” Continuous monitoring and fault-tolerant HTTP session

---

